# AI 编程小助手 - 使用指南

## 🚀 快速启动（Windows）

### 方法一：双击启动（推荐）
1. 找到项目根目录下的 `start.bat` 文件
2. 双击运行
3. 浏览器自动打开 http://localhost:5173

### 方法二：命令行启动
打开 PowerShell 或 CMD，执行：
```powershell
cd ai-code-helper-frontend
npm run dev
```

### 首次运行
如果是第一次运行，需要先安装依赖：
```powershell
npm install
```

## 📝 基本使用

### 1. 启动应用
启动后，浏览器会自动打开应用，如果没有自动打开，手动访问：
```
http://localhost:5173
```

### 2. 发送消息
- 在底部输入框输入问题
- 点击"Send"按钮或按 `Enter` 键发送
- 等待 AI 回复（实时显示）

### 3. 换行输入
如果需要输入多行文本：
- 按 `Shift + Enter` 换行
- 编辑完成后按 `Enter` 发送

### 4. 切换语言
- 点击右上角的语言选择器
- 选择 "中文" 或 "English"
- 界面立即切换

## 🎓 使用示例

### 示例 1：学习概念
```
问：什么是闭包？
答：闭包（Closure）是函数和其词法环境的组合...
```

### 示例 2：代码问题
```
问：如何在 JavaScript 中深拷贝对象？
答：在 JavaScript 中有几种深拷贝对象的方法：
    1. JSON.parse(JSON.stringify(obj))
    2. structuredClone(obj)
    3. 递归实现...
```

### 示例 3：面试准备
```
问：请解释 React 的虚拟 DOM
答：虚拟 DOM（Virtual DOM）是 React 的核心概念...
```

### 示例 4：调试帮助
```
问：为什么我的 async/await 没有正常工作？
答：async/await 不工作的常见原因：
    1. 忘记使用 await 关键字
    2. 在非 async 函数中使用 await...
```

## ⚙️ 配置说明

### 后端服务配置
确保后端服务正在运行：
```
地址：https://localhost:8081
端口：8081
协议：HTTPS
```

### 修改后端地址
如果后端地址不同，编辑 `vite.config.js`：
```javascript
proxy: {
  '/api': {
    target: 'https://your-backend-url:port',
    changeOrigin: true,
    secure: false
  }
}
```

修改后重启开发服务器。

### 修改前端端口
编辑 `vite.config.js`：
```javascript
server: {
  port: 3000,  // 改为你想要的端口
  ...
}
```

## 🔧 常见问题

### Q1: 启动失败，提示端口被占用
**解决方案**：
```powershell
# 方法 1：修改端口（见上面配置说明）
# 方法 2：关闭占用 5173 端口的程序
netstat -ano | findstr :5173
taskkill /PID <进程ID> /F
```

### Q2: 连接后端失败
**检查清单**：
1. ✅ 后端服务是否启动？
2. ✅ 后端地址是否正确？
3. ✅ 防火墙是否阻止连接？
4. ✅ 浏览器控制台有什么错误？

**解决步骤**：
```powershell
# 1. 测试后端是否可访问
curl https://localhost:8081/api/ai/chat?memoryId=1&message=test

# 2. 查看 vite 代理配置
# 编辑 vite.config.js 确认配置正确

# 3. 重启开发服务器
# Ctrl+C 停止，然后重新运行 npm run dev
```

### Q3: 消息发送后没有响应
**可能原因**：
1. 后端服务未启动
2. 网络连接问题
3. 后端处理超时

**调试方法**：
1. 打开浏览器开发者工具（F12）
2. 切换到 Network 标签
3. 筛选 EventStream 类型
4. 查看请求状态和响应

### Q4: 语言切换不生效
**解决方案**：
```javascript
// 清除浏览器缓存
localStorage.clear()
sessionStorage.clear()
// 刷新页面 F5
```

### Q5: 页面样式错乱
**解决方案**：
1. 清除浏览器缓存（Ctrl + F5）
2. 重启开发服务器
3. 检查是否有浏览器扩展干扰

## 🔍 调试技巧

### 查看会话 ID
打开浏览器控制台（F12），输入：
```javascript
sessionStorage.getItem('memoryId')
```

### 查看当前语言
```javascript
localStorage.getItem('locale')
```

### 手动切换语言
```javascript
localStorage.setItem('locale', 'zh')  // 或 'en'
location.reload()
```

### 查看 SSE 连接
1. F12 打开开发者工具
2. Network 标签
3. 选择 EventStream 或 SSE 类型
4. 发送消息
5. 查看实时数据流

### 清除所有数据
```javascript
localStorage.clear()
sessionStorage.clear()
location.reload()
```

## 📱 浏览器兼容性

### 推荐浏览器
- ✅ Chrome 90+（推荐）
- ✅ Edge 90+（推荐）
- ✅ Firefox 88+
- ✅ Safari 14+

### 不支持的浏览器
- ❌ Internet Explorer（所有版本）

### 功能支持
- EventSource API（SSE）- 所有现代浏览器
- ES2015+ 语法 - 需要现代浏览器
- CSS Grid/Flexbox - 需要现代浏览器

## 🛠️ 开发者工具

### 推荐 VS Code 插件
```
- Volar（Vue Language Features）
- ESLint
- Prettier
- Auto Rename Tag
- Path Intellisense
```

### 安装 Volar
1. 打开 VS Code
2. 按 `Ctrl + Shift + X` 打开扩展市场
3. 搜索 "Volar"
4. 点击安装
5. 禁用 Vetur（如果已安装）

## 📦 项目命令

### 开发模式
```powershell
npm run dev          # 启动开发服务器
```

### 生产构建
```powershell
npm run build        # 构建生产版本
npm run preview      # 预览生产构建
```

### 依赖管理
```powershell
npm install          # 安装依赖
npm update          # 更新依赖
npm audit fix       # 修复安全问题
```

## 🎨 自定义样式

### 修改主题颜色
编辑 `src/components/ChatRoom.vue` 的 `<style>` 部分：

```css
/* 主背景色 */
.chat-room {
  background: #2b2b2b;  /* 修改这里 */
}

/* AI 消息气泡 */
.ai-message .message-bubble {
  background: #313335;  /* 修改这里 */
}

/* 用户消息气泡 */
.user-message .message-bubble {
  background: #2d5f8d;  /* 修改这里 */
}
```

### 修改字体
编辑 `src/App.vue` 的 `<style>` 部分：
```css
body {
  font-family: 'Your Font', sans-serif;
}
```

## 📊 性能优化

### 开发环境优化
```javascript
// vite.config.js
export default defineConfig({
  server: {
    hmr: true,        // 热模块替换
    open: true,       // 自动打开浏览器
  }
})
```

### 生产构建优化
```javascript
// vite.config.js
export default defineConfig({
  build: {
    minify: 'terser',     // 代码压缩
    sourcemap: false,     // 不生成 sourcemap
    rollupOptions: {
      output: {
        manualChunks: {
          vue: ['vue']    // 分离 Vue 包
        }
      }
    }
  }
})
```

## 📝 日志记录

### 查看应用日志
浏览器控制台会显示：
- 会话初始化信息
- API 请求状态
- 错误信息

### 启用详细日志
编辑 `src/services/api.js`，取消注释：
```javascript
console.log('SSE Message:', data)
console.log('Memory ID:', memoryId)
```

## 🔐 安全建议

### 开发环境
- ✅ 使用 localhost
- ✅ 不暴露到公网
- ✅ 及时更新依赖

### 生产环境
- ✅ 使用 HTTPS
- ✅ 配置 CSP 头
- ✅ 启用 secure cookies
- ✅ 定期安全审计

## 💻 系统要求

### 最低要求
- Windows 10+
- Node.js 16+
- 2GB RAM
- 500MB 磁盘空间

### 推荐配置
- Windows 11
- Node.js 18+
- 4GB+ RAM
- 1GB 磁盘空间
- SSD 硬盘

## 📞 获取帮助

### 文档资源
- `README.md` - 快速开始
- `开发说明.md` - 开发指南
- `FEATURES.md` - 功能特性
- `项目使用指南.md` - 本文档

### 在线资源
- Vue 3 文档: https://vuejs.org/
- Vite 文档: https://vitejs.dev/
- MDN Web Docs: https://developer.mozilla.org/

## 📄 许可证

MIT License - 可自由使用、修改和分发

---

**祝你使用愉快！🎉**

